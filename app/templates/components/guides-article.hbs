{{! template-lint-disable no-link-to-positional-params link-rel-noopener no-curly-component-invocation no-implicit-this }}
<div class='content-wrapper'>
  <div class='guides-article-content'>
    {{#if (not (eq this.version this.currentVersion))}}
      <div class='old-version-warning'>
        <div class='old-version-warning-text'>
          <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="exclamation-circle" class="warning-icon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"></path></svg>
          <div><strong>Old Guides - </strong>You are viewing the guides for
            Ember
            {{this.version}}.</div>
        </div>

        <LinkTo
          @route='version.show'
          @models={{array 'release' this.path}}
          class='es-button-secondary old-version-button'
        > Go to {{this.currentVersion}} </LinkTo>
      </div>
    {{/if}}

    <div class='article-title'>
      <h1>
        {{this.page.currentPage.title}}
      </h1>

      {{#if this.guidemaker.sourceRepo}}
        <a
          href="{{this.guidemaker.sourceRepo}}/edit/{{or this.guidemaker.sourceBranch "master"}}/guides/{{this.editVersion}}{{this.model.id}}.md"
          target='_blank'
          class='edit-page'
          rel='noopener'
        >
          <img class='edit-icon' src='/images/pen.svg' alt='Edit pencil' />
        </a>
      {{/if}}
    </div>
    <hr />

    <MarkdownToHtml
      @markdown={{this.model.content}}
      @extensions='showdown-section-groups header-links'
    />

    <ChapterLinks @pages={{this.pages}} />
  </div>
  <div class='on-this-page-wrapper'>
    <OnThisPage @toc={{@model.toc}} />
  </div>
</div>
