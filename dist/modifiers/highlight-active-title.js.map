{"version":3,"file":"highlight-active-title.js","sources":["../../src/modifiers/highlight-active-title.js"],"sourcesContent":["import { modifier } from 'ember-modifier';\n\nexport default modifier(function highlightActiveTitle(element, [toc]) {\n  const observer = new IntersectionObserver((tocSections) => {\n    tocSections.forEach((tocSection) => {\n      const tocId = tocSection.target.getAttribute('aria-labelledby');\n      const tocHeader = element.querySelector(`a[href=\"#${tocId}\"]`);\n      if (tocSection.intersectionRatio > 0) {\n        tocHeader?.parentElement.classList.add('in-viewport');\n      } else {\n        tocHeader?.parentElement.classList.remove('in-viewport');\n      }\n    });\n  });\n\n  // Track all content sections by id\n  toc?.forEach((tocItem) => {\n    const tocSection = document.querySelector(\n      `section[aria-labelledby=\"${tocItem.id}\"]`,\n    );\n    if (tocSection) {\n      observer.observe(tocSection);\n    }\n  });\n\n  return () => {\n    observer.disconnect();\n  };\n});\n"],"names":["modifier","highlightActiveTitle","element","toc","observer","IntersectionObserver","tocSections","forEach","tocSection","tocId","target","getAttribute","tocHeader","querySelector","intersectionRatio","parentElement","classList","add","remove","tocItem","document","id","observe","disconnect"],"mappings":";;AAEA,2BAAeA,QAAQ,CAAC,SAASC,oBAAoBA,CAACC,OAAO,EAAE,CAACC,GAAG,CAAC,EAAE;AACpE,EAAA,MAAMC,QAAQ,GAAG,IAAIC,oBAAoB,CAAEC,WAAW,IAAK;AACzDA,IAAAA,WAAW,CAACC,OAAO,CAAEC,UAAU,IAAK;MAClC,MAAMC,KAAK,GAAGD,UAAU,CAACE,MAAM,CAACC,YAAY,CAAC,iBAAiB,CAAC;MAC/D,MAAMC,SAAS,GAAGV,OAAO,CAACW,aAAa,CAAC,CAAA,SAAA,EAAYJ,KAAK,CAAA,EAAA,CAAI,CAAC;AAC9D,MAAA,IAAID,UAAU,CAACM,iBAAiB,GAAG,CAAC,EAAE;QACpCF,SAAS,EAAEG,aAAa,CAACC,SAAS,CAACC,GAAG,CAAC,aAAa,CAAC;AACvD,MAAA,CAAC,MAAM;QACLL,SAAS,EAAEG,aAAa,CAACC,SAAS,CAACE,MAAM,CAAC,aAAa,CAAC;AAC1D,MAAA;AACF,IAAA,CAAC,CAAC;AACJ,EAAA,CAAC,CAAC;;AAEF;AACAf,EAAAA,GAAG,EAAEI,OAAO,CAAEY,OAAO,IAAK;IACxB,MAAMX,UAAU,GAAGY,QAAQ,CAACP,aAAa,CACvC,CAAA,yBAAA,EAA4BM,OAAO,CAACE,EAAE,CAAA,EAAA,CACxC,CAAC;AACD,IAAA,IAAIb,UAAU,EAAE;AACdJ,MAAAA,QAAQ,CAACkB,OAAO,CAACd,UAAU,CAAC;AAC9B,IAAA;AACF,EAAA,CAAC,CAAC;AAEF,EAAA,OAAO,MAAM;IACXJ,QAAQ,CAACmB,UAAU,EAAE;EACvB,CAAC;AACH,CAAC,CAAC;;;;"}